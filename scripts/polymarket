#!/bin/bash
# Polymarket Skill Wrapper
# Usage: polymarket [trending|search <query>|event <slug>|category <name>]

SCRIPT_DIR="/home/neardws/clawd/skills/polymarket-mvanhorn/scripts"

show_help() {
    echo "Polymarket Prediction Markets"
    echo ""
    echo "Usage:"
    echo "  polymarket trending [limit]      - çƒ­é—¨å¸‚åœº"
    echo "  polymarket search <å…³é”®è¯>        - æœç´¢å¸‚åœº"
    echo "  polymarket event <slug>          - ç‰¹å®šå¸‚åœºè¯¦æƒ…"
    echo "  polymarket category <åˆ†ç±»>        - æŒ‰åˆ†ç±»æµè§ˆ"
    echo ""
    echo "Examples:"
    echo "  polymarket trending"
    echo "  polymarket search AI"
    echo "  polymarket search Trump"
    echo "  polymarket category politics"
}

case "$1" in
    trending)
        limit=${2:-10}
        python3 "$SCRIPT_DIR/polymarket.py" --limit "$limit" trending
        ;;
    search)
        if [ -z "$2" ]; then
            echo "Usage: polymarket search <query>"
            exit 1
        fi
        limit=${3:-10}
        python3 "$SCRIPT_DIR/polymarket.py" --limit "$limit" search "$2"
        ;;
    event)
        if [ -z "$2" ]; then
            echo "Usage: polymarket event <slug>"
            exit 1
        fi
        python3 "$SCRIPT_DIR/polymarket.py" event "$2"
        ;;
    category)
        if [ -z "$2" ]; then
            echo "Usage: polymarket category <name>"
            echo "Available: politics, crypto, sports, tech, entertainment, business"
            exit 1
        fi
        limit=${3:-10}
        python3 "$SCRIPT_DIR/polymarket.py" --limit "$limit" category "$2"
        ;;
    ai|markets)
        # å¿«æ·å‘½ä»¤ï¼šæŸ¥çœ‹ AI ç›¸å…³å¸‚åœº
        echo "ğŸ” AI ç›¸å…³é¢„æµ‹å¸‚åœº:"
        echo ""
        python3 "$SCRIPT_DIR/polymarket.py" --limit 5 search "OpenAI"
        echo ""
        python3 "$SCRIPT_DIR/polymarket.py" --limit 5 search "Claude"
        ;;
    *)
        show_help
        ;;
esac
